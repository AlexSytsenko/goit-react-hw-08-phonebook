(this["webpackJsonpreact-phonebook"]=this["webpackJsonpreact-phonebook"]||[]).push([[0],{114:function(t,e,n){t.exports={button:"Form_button__Y1Myj",label:"Form_label__2Jv3F",input:"Form_input__h6x22",form:"Form_form__2oeCR"}},115:function(t,e,n){t.exports={label:"FilterContacts_label__1kl4F",input:"FilterContacts_input__1X1Yu"}},116:function(t,e,n){t.exports={contact__button:"ContactItem_contact__button__IVZc8",contact__item:"ContactItem_contact__item__2gl5z",contact__text:"ContactItem_contact__text__1qT8i"}},122:function(t,e,n){t.exports={contacts__list:"ContactsList_contacts__list__YCCZk"}},137:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Y}));var a=n(37),c=n.n(a),r=(n(55),n(10)),s=n(111),o=n(0),u=n(21),i=n(17),b=n.n(i),l=n(26),j=n(19),m=n.n(j),f=n(9),p=function(){return function(){var t=Object(l.a)(b.a.mark((function t(e){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(f.i)()),t.prev=1,t.next=4,m.a.get("/contacts");case 4:n=t.sent,e(Object(f.j)(n.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),u.b.error(t.t0.message),e(Object(f.h)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},_=function(t){return function(){var e=Object(l.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(f.f)()),e.prev=1,e.next=4,m.a.delete("/contacts/".concat(t));case 4:n(Object(f.g)(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),u.b.error(e.t0.message),n(Object(f.e)(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(l.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(f.b)()),e.prev=1,e.next=4,m.a.post("/contacts",t);case 4:a=e.sent,n(Object(f.c)(a.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),u.b.error(e.t0.message),n(Object(f.a)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},d=n(32),h=function(t){return t.contacts.filter},x=function(t){return t.contacts.items},v=Object(d.a)([x,h],(function(t,e){if(!e)return t;var n=e.toLocaleLowerCase();return t.filter((function(t){return t.name.toLocaleLowerCase().includes(n)}))})),g=function(t){return t.contacts.loading},C=x,k=n(114),N=n.n(k),w=n(1),y=function(){var t=Object(r.b)(),e=Object(r.c)(C),n=Object(o.useState)(""),a=Object(s.a)(n,2),c=a[0],i=a[1],b=Object(o.useState)(""),l=Object(s.a)(b,2),j=l[0],m=l[1],f=function(t){var e=t.currentTarget,n=e.name,a=e.value;switch(n){case"number":i(a);break;case"name":m(a)}},p=function(){return e.find((function(t){return t.name===j}))},_=function(){i(""),m("")};return Object(w.jsxs)("form",{className:N.a.form,onSubmit:function(e){if(e.preventDefault(),p()){var n="".concat(j," is already in contacts.");return u.b.warning(n)}t(O({name:j,number:c})),_()},children:[Object(w.jsxs)("label",{className:N.a.label,children:["Name",Object(w.jsx)("input",{className:N.a.input,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",required:!0,value:j,onChange:f})]}),Object(w.jsxs)("label",{className:N.a.label,children:["Number",Object(w.jsx)("input",{className:N.a.input,type:"tel",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"Phone number must be 11-12 digits long and can contain numbers, spaces, dashes, pot-bellied brackets and can start with +",required:!0,value:c,onChange:f})]}),Object(w.jsx)("button",{className:N.a.button,type:"submit",children:"Add contact"})]})},F=n(115),A=n.n(F),z=function(){var t=Object(r.b)(),e=Object(r.c)(h),n=Object(o.useCallback)((function(e){return t(f.d(e.currentTarget.value))}),[t]);return Object(w.jsxs)("label",{className:A.a.label,children:["Find contacts by name",Object(w.jsx)("input",{className:A.a.input,type:"text",value:e,onChange:n})]})},L=n(117),Z=n.n(L),I=n(116),J=n.n(I),T=function(t){var e=t.value,n=Object(r.b)(),a=Object(r.c)(x).filter((function(t){return t.id===e}))[0],c=a.name,s=a.number,u=Object(o.useCallback)((function(){return n(_(e))}),[n]);return Object(w.jsxs)("li",{className:J.a.contact__item,children:[Object(w.jsxs)("p",{className:J.a.contact__text,children:[c,": ",s]}),Object(w.jsx)("button",{className:J.a.contact__button,type:"button",onClick:u,children:Object(w.jsx)(Z.a,{})})]})},q=n(122),P=n.n(q),S=function(){var t=Object(r.b)(),e=Object(r.c)(v);return Object(o.useEffect)((function(){return t(p())}),[]),Object(w.jsx)("ul",{className:P.a.contacts__list,children:e.map((function(t){var e=t.id;return Object(w.jsx)(T,{value:e},e)}))})},Y=function(){var t=Object(r.c)(g);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"title title__main",children:"Phonebook"}),Object(w.jsx)(y,{}),t&&Object(w.jsx)(c.a,{type:"Puff",color:"#C48613",height:75,width:75}),Object(w.jsx)("h2",{className:"title",children:"Contacts"}),Object(w.jsx)(z,{}),Object(w.jsx)(S,{})]})}}}]);
//# sourceMappingURL=Contacts-page.8e582c9d.chunk.js.map